# Signet Protocol - Production Environment Configuration
# Copy this file to .env and fill in your actual secrets

# =============================================================================
# API KEYS & TENANT CONFIGURATION
# =============================================================================
# Format: {"api_key": {"tenant": "name", "allowlist": ["domain.com"], "fallback_enabled": true, "fu_monthly_limit": 10000}}
SP_API_KEYS={"your_production_key": {"tenant": "your_company", "allowlist": ["your-webhook-domain.com"], "fallback_enabled": true, "fu_monthly_limit": 50000}}

# =============================================================================
# EXTERNAL SERVICE INTEGRATIONS
# =============================================================================
# OpenAI API Key for fallback JSON repair
SP_OPENAI_API_KEY=sk-your-openai-api-key-here

# Stripe API Key for billing
SP_STRIPE_API_KEY=sk_live_your-stripe-api-key-here

# =============================================================================
# SECURITY & SIGNING
# =============================================================================
# Base64 encoded private key for receipt signing
SP_PRIVATE_KEY_B64=your-base64-encoded-private-key

# Key ID for JWKS
SP_KID=signet-prod-key-1

# =============================================================================
# NETWORK & POLICY
# =============================================================================
# Global allowlist for forwarding (comma-separated domains)
SP_HEL_ALLOWLIST=api.openai.com,hooks.slack.com,your-trusted-domain.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Storage backend: "sqlite" or "postgres"
SP_STORAGE=postgres

# PostgreSQL connection string (if using postgres)
SP_POSTGRES_URL=postgresql://username:password@localhost:5432/signet_production

# SQLite database path (if using sqlite)
SP_DB_PATH=./data/signet_production.db

# =============================================================================
# BILLING & RESERVED CAPACITY
# =============================================================================
# Path to reserved capacity configuration
SP_RESERVED_CONFIG=./reserved_production.json

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Server port
PORT=8088

# =============================================================================
# EXAMPLE RESERVED CAPACITY CONFIGURATION
# =============================================================================
# Create reserved_production.json with content like:
# {
#   "your_company": {
#     "vex_reserved": 100000,
#     "fu_reserved": 500000,
#     "vex_overage_tiers": [
#       {"threshold": 50000, "price_per_unit": 0.005, "stripe_item": "si_vex_tier1"}
#     ],
#     "fu_overage_tiers": [
#       {"threshold": 250000, "price_per_unit": 0.0008, "stripe_item": "si_fu_tier1"}
#     ]
#   }
# }
